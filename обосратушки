{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 10,
   "id": "c5f9cd8b-5c8e-4cb4-8d64-a75db185cffa",
   "metadata": {},
   "outputs": [
    {
     "name": "stdin",
     "output_type": "stream",
     "text": [
      "Введите список магазинов через \",\":  Бразилия, Мексика, Германия, Франция\n"
     ]
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "========================================================\n"
     ]
    },
    {
     "name": "stdin",
     "output_type": "stream",
     "text": [
      "Введите список товаров через \",\":  картофель, салат, вода, кофе, наггетсы\n"
     ]
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "========================================================\n"
     ]
    },
    {
     "name": "stdin",
     "output_type": "stream",
     "text": [
      "Введите цену на картофель в магазине Бразилия:  \n"
     ]
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Систему не обмануть!!! Цена на картофель установлена: 74 !\n",
      "--------------------------------------------------------\n"
     ]
    },
    {
     "name": "stdin",
     "output_type": "stream",
     "text": [
      "Введите цену на салат в магазине Бразилия:  \n"
     ]
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Систему не обмануть!!! Цена на салат установлена: 220 !\n",
      "--------------------------------------------------------\n"
     ]
    },
    {
     "name": "stdin",
     "output_type": "stream",
     "text": [
      "Введите цену на вода в магазине Бразилия:  \n"
     ]
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Систему не обмануть!!! Цена на вода установлена: 48 !\n",
      "--------------------------------------------------------\n"
     ]
    },
    {
     "name": "stdin",
     "output_type": "stream",
     "text": [
      "Введите цену на соль в магазине Бразилия:  \n"
     ]
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Систему не обмануть!!! Цена на кофе установлена: 347 !\n",
      "--------------------------------------------------------\n"
     ]
    },
    {
     "name": "stdin",
     "output_type": "stream",
     "text": [
      "Введите цену на наггетсы в магазине Бразилия:  \n"
     ]
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Систему не обмануть!!! Цена на наггетсы установлена: 130 !\n",
      "--------------------------------------------------------\n"
     ]
    },
    {
     "name": "stdin",
     "output_type": "stream",
     "text": [
      "Введите цену на картофель в магазине Мексика:  \n"
     ]
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Систему не обмануть!!! Цена на картофель установлена: 67 !\n",
      "--------------------------------------------------------\n"
     ]
    },
    {
     "name": "stdin",
     "output_type": "stream",
     "text": [
      "Введите цену на салат в магазине Мексика:  \n"
     ]
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Систему не обмануть!!! Цена на салат установлена: 200 !\n",
      "--------------------------------------------------------\n"
     ]
    },
    {
     "name": "stdin",
     "output_type": "stream",
     "text": [
      "Введите цену на вода в магазине Мексика:  \n"
     ]
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Систему не обмануть!!! Цена на вода установлена: 55 !\n",
      "--------------------------------------------------------\n"
     ]
    },
    {
     "name": "stdin",
     "output_type": "stream",
     "text": [
      "Введите цену на кофе в магазине Мексика:  \n"
     ]
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Систему не обмануть!!! Цена на кофе установлена: 299 !\n",
      "--------------------------------------------------------\n"
     ]
    },
    {
     "name": "stdin",
     "output_type": "stream",
     "text": [
      "Введите цену на наггетсы в магазине Мексика:  \n"
     ]
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Систему не обмануть!!! Цена на пельмени установлена: 140 !\n",
      "--------------------------------------------------------\n"
     ]
    },
    {
     "name": "stdin",
     "output_type": "stream",
     "text": [
      "Введите цену на картофель в магазине Германия:  \n"
     ]
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Систему не обмануть!!! Цена на картофель установлена: 71 !\n",
      "--------------------------------------------------------\n"
     ]
    },
    {
     "name": "stdin",
     "output_type": "stream",
     "text": [
      "Введите цену на салат в магазине Германия:  \n"
     ]
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Систему не обмануть!!! Цена на салат установлена: 190 !\n",
      "--------------------------------------------------------\n"
     ]
    },
    {
     "name": "stdin",
     "output_type": "stream",
     "text": [
      "Введите цену на вода в магазине Германия:  \n"
     ]
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Систему не обмануть!!! Цена на вода установлена: 52 !\n",
      "--------------------------------------------------------\n"
     ]
    },
    {
     "name": "stdin",
     "output_type": "stream",
     "text": [
      "Введите цену на кофе в магазине Германия:  \n"
     ]
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Систему не обмануть!!! Цена на кофе установлена: 310 !\n",
      "--------------------------------------------------------\n"
     ]
    },
    {
     "name": "stdin",
     "output_type": "stream",
     "text": [
      "Введите цену на наггетсы в магазине Германия:  \n"
     ]
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Систему не обмануть!!! Цена на наггетсы установлена: 140 !\n",
      "--------------------------------------------------------\n"
     ]
    },
    {
     "name": "stdin",
     "output_type": "stream",
     "text": [
      "Введите цену на картофель в магазине Франция:  \n"
     ]
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Систему не обмануть!!! Цена на картофель установлена: 69 !\n",
      "--------------------------------------------------------\n"
     ]
    },
    {
     "name": "stdin",
     "output_type": "stream",
     "text": [
      "Введите цену на салат в магазине Франция:  \n"
     ]
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Систему не обмануть!!! Цена на салат установлена: 189 !\n",
      "--------------------------------------------------------\n"
     ]
    },
    {
     "name": "stdin",
     "output_type": "stream",
     "text": [
      "Введите цену на вода в магазине Франция:  \n"
     ]
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Систему не обмануть!!! Цена на вода установлена: 58 !\n",
      "--------------------------------------------------------\n"
     ]
    },
    {
     "name": "stdin",
     "output_type": "stream",
     "text": [
      "Введите цену на кофе в магазине Франция:  \n"
     ]
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Систему не обмануть!!! Цена на кофе установлена: 199 !\n",
      "--------------------------------------------------------\n"
     ]
    },
    {
     "name": "stdin",
     "output_type": "stream",
     "text": [
      "Введите цену на наггетсы в магазине Франция:  \n"
     ]
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Систему не обмануть!!! Цена на наггетсы установлена: 148 !\n",
      "--------------------------------------------------------\n"
     ]
    },
    {
     "name": "stdin",
     "output_type": "stream",
     "text": [
      "Введите список покупок в формате \"покупка_количество\" через \",\":  \n",
      "Введите список покупок в формате \"покупка_количество\" через \",\":  \n",
      "Введите список покупок в формате \"покупка_количество\" через \",\":  картофель_3,вода_2,наггетсы_6\n"
     ]
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "========================================================\n",
      "Общая сумма покупки в магазине Бразилия: 546\n",
      "--------------------------------------------------------\n",
      "Общая сумма покупки в магазине Мексика: 372\n",
      "--------------------------------------------------------\n",
      "Общая сумма покупки в магазине Германия: 709\n",
      "--------------------------------------------------------\n",
      "Общая сумма покупки в магазине Франция: 483\n",
      "--------------------------------------------------------\n",
      "========================================================\n",
      "Выгоднее всего закупиться в: Мексике по цене: 372\n"
     ]
    }
   ],
   "source": [
    "from random import randint\n",
    "\n",
    "magaz_list = input('Введите список магазинов через \",\": ').replace(' ', '').split(',')\n",
    "print('========================================================')\n",
    "goods_list = input('Введите список товаров через \",\": ').replace(' ', '').split(',')\n",
    "print('========================================================')\n",
    "summary_dict = {}\n",
    "\n",
    "for magaz in magaz_list:\n",
    "    goods_prices_dict = {}\n",
    "    for good in goods_list:\n",
    "        try:\n",
    "            price = int(input('Введите цену на ' + good + ' в магазине ' + magaz + ': '))\n",
    "        except Exception:\n",
    "            price = randint(1, 99)\n",
    "            print('Систему не обмануть!!! Цена на ' + good + ' установлена: ' + str(price) + ' !')\n",
    "        print('--------------------------------------------------------')\n",
    "        goods_prices_dict[good] = price\n",
    "    summary_dict[magaz] = goods_prices_dict\n",
    "\n",
    "shopping_note = ''\n",
    "while shopping_note in ['']:\n",
    "    shopping_note = input('Введите список покупок в формате \"покупка_количество\" через \",\": ')\n",
    "\n",
    "shopping_list = shopping_note.replace(' ', '').split(',')\n",
    "shopping_dict = {}\n",
    "\n",
    "for buy_item in shopping_list:\n",
    "    if buy_item.split('_')[0] in goods_list:\n",
    "        shopping_dict[buy_item.split('_')[0]] = int(buy_item.split('_')[1])\n",
    "    else:\n",
    "        print('Товар ' + buy_item.split('_')[0] + ' не завезли в магазины!')\n",
    "\n",
    "if len(shopping_dict.keys()) == 0:\n",
    "    print(\"Ежеля ничаво не выбрал путного, неча тут и глаза продавать!!!\")\n",
    "else:\n",
    "    print('========================================================')\n",
    "    total_price_dict = {}\n",
    "    for magaz in summary_dict.keys():\n",
    "        total_price = 0\n",
    "        for buy_item_name in shopping_dict.keys():\n",
    "            total_price += summary_dict.get(magaz).get(buy_item_name) * shopping_dict[buy_item_name]\n",
    "        print('Общая сумма покупки в магазине ' + magaz + ': ' + str(total_price))\n",
    "        print('--------------------------------------------------------')\n",
    "        total_price_dict[magaz] = total_price\n",
    "\n",
    "    top_magaz = []\n",
    "    minimal_price_list = list(total_price_dict.values())\n",
    "    minimal_price_list.sort()\n",
    "    minimal_price = minimal_price_list[0]\n",
    "    for magaz in total_price_dict.keys():\n",
    "        if total_price_dict[magaz] == minimal_price:\n",
    "            top_magaz.append(magaz)\n",
    "    print('========================================================')\n",
    "    print('Выгоднее всего закупиться в: ' + str(top_magaz).replace(\"'\", \"\").replace('[', '').replace(']', '') + ' по цене: ' + str(minimal_price))\n",
    "\n",
    "# Готовая копипаста для ленивых:\n",
    "# 1) Магазины \"Бразилия, Мексика, Германия, Франция\"\n",
    "# 2) Товары \"картофель, салат, вода, кофе, наггетсы\"\n",
    "# 3) Если не вводить цену товара, она сгенерится сама\n",
    "# 4) Покупки \"картофель_3,вода_2,наггетсы_6\" - наименование_количество"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3 (ipykernel)",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.12.4"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 5
}
